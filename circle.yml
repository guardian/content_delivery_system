#first version of a config for testing via CircleCI

machine:
  ruby:
    version: ruby-2.2.5
  java:
    version: oraclejdk8
    
checkout:
  post:
    - chmod a+x ./circle_setup_rvm.sh
    - sudo -E ./circle_setup_rvm.sh
    - sudo -i /home/ubuntu/content_delivery_system/CDS/install.sh -y

test:
  override:
    - bash ./tests/runtests.sh

deployment:
  riffraff_upload:
    branch: /.*/
    commands:
      - sbt riffRaffUpload
